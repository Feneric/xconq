
RCS file: /cvsroot/xconq/xconq/kernel/unit.c,v
Working file: unit.c
head: 1.22
branch:
locks: strict
access list:
symbolic names:
	BPT_EMCDONALD_AI_16: 1.22
	BPT_EMCDONALD_AI_15: 1.22
	SS_7_5_0_0pre_0_20050612: 1.19
	BPT_MSKALA_IMF_3: 1.18
	BPT_MSKALA_SUPPLY_12: 1.18
	BPT_EMCDONALD_AI_14: 1.18
	MPT_EMCDONALD_AI_7: 1.11.2.11
	BPT_EMCDONALD_AI_13: 1.17
	SS_7_5_0_0pre_0_20050501: 1.17
	BPT_EMCDONALD_AI_12: 1.17
	MPT_EMCDONALD_AI_6: 1.11.2.8
	BPT_EMCDONALD_AI_11: 1.16
	SS_7_5_0_0pre_0_20050416: 1.15
	BPT_EMCDONALD_AI_10: 1.15
	MPT_EMCDONALD_AI_5: 1.11.2.5
	BPT_EMCDONALD_AI_9: 1.14
	BPT_EMCDONALD_AI_8: 1.14
	MPT_EMCDONALD_AI_4: 1.11.2.4
	BPT_EMCDONALD_AI_7: 1.13
	MPT_EMCDONALD_AI_3: 1.11.2.3
	BPT_EMCDONALD_AI_6: 1.12
	BPT_MSKALA_SUPPLY_11: 1.12
	BPT_EMCDONALD_AI_5: 1.12
	MPT_EMCDONALD_AI_2: 1.11.2.1
	SS_7_5_0_0pre_0_20050322: 1.11
	BPT_MSKALA_SUPPLY_10: 1.11
	BPT_EMCDONALD_AI_4: 1.11
	MPT_EMCDONALD_AI_1: 1.11
	BPT_EMCDONALD_AI_3: 1.11
	BPT_MSKALA_SUPPLY_9: 1.11
	MPT_MSKALA_SUPPLY_3: 1.7.2.3
	BPT_EMCDONALD_AI_2: 1.11
	BPT_MSKALA_SUPPLY_8: 1.11
	MPT_MSKALA_SUPPLY_2: 1.7.2.3
	BPT_MSKALA_SUPPLY_7: 1.11
	BRANCH_EMCDONALD_AI: 1.11.0.2
	BPT_EMCDONALD_AI_1: 1.11
	BPT_MSKALA_SUPPLY_6: 1.11
	SS_7_5_0_0pre_0_20050225: 1.10
	BPT_MSKALA_SUPPLY_5: 1.10
	MPT_MSKALA_SUPPLY_1: 1.7.2.2
	BPT_MSKALA_SUPPLY_4: 1.9
	BPT_MSKALA_SUPPLY_3: 1.9
	BPT_MSKALA_SUPPLY_2: 1.9
	SS_7_5_0_0pre_0_20050208: 1.9
	BPT_MSKALA_IMF_2: 1.7
	BRANCH_MSKALA_SUPPLY: 1.7.0.2
	BPT_MSKALA_SUPPLY_1: 1.7
	SS_7_5_0_0pre_0_20050117: 1.6
	SS_7_5_0_0pre_0_20050108: 1.5
	SS_7_5_0_0pre_0_20041228: 1.3
	BRANCH_MSKALA_IMF: 1.3.0.2
	BPT_MSKALA_IMF_1: 1.3
	SS_7_5_0_0pre_0_20041211: 1.3
	SS_7_5_0_0pre_0_20041126: 1.1.1.1
	GENESIS: 1.1.1.1
	PRIVATE_TREE_1: 1.1.1
keyword substitution: kv
total revisions: 42;	selected revisions: 42
description:
----------------------------
revision 1.22
date: 2005/06/26 22:09:11;  author: eric_mcdonald;  state: Exp;  lines: +6 -5
Allow colonizers to merge into units of utypes that they can create.
----------------------------
revision 1.21
date: 2005/06/25 22:57:48;  author: eric_mcdonald;  state: Exp;  lines: +3 -13
Remove multi-part units functionality.
----------------------------
revision 1.20
date: 2005/06/17 02:54:12;  author: eric_mcdonald;  state: Exp;  lines: +2 -8
Implement per-side general action restrictions.
Implement per-side construction restrictions.
Decommision Iplayer.
----------------------------
revision 1.19
date: 2005/06/12 22:10:39;  author: eric_mcdonald;  state: Exp;  lines: +10 -0
Fix create check, so that some games will work properly again.
Fix bug with oproles not being unassigned when units change side.
Fix bug with construction from Tkconq UI.
Improve occs-on-completion feature.
Polish up the Default game some more.
----------------------------
revision 1.18
date: 2005/06/06 03:03:47;  author: eric_mcdonald;  state: Exp;  lines: +7 -92
Merge from 'MPT_EMCDONALD_AI_6' to 'MPT_EMCDONALD_AI_7'.
----------------------------
revision 1.17
date: 2005/04/30 23:35:09;  author: eric_mcdonald;  state: Exp;  lines: +12 -13
Merge from 'MPT_EMCDONALD_AI_5' to 'MPT_EMCDONALD_AI_6'.
Many non-AI-related changes included in this merge.
----------------------------
revision 1.16
date: 2005/04/19 02:15:48;  author: eric_mcdonald;  state: Exp;  lines: +0 -1
Fix compilation with optimization turned on.
----------------------------
revision 1.15
date: 2005/04/16 01:17:12;  author: eric_mcdonald;  state: Exp;  lines: +21 -0
Merge from 'MPT_EMCDONALD_AI_4' to 'MPT_EMCDONALD_AI_5'.
----------------------------
revision 1.14
date: 2005/04/05 01:53:38;  author: eric_mcdonald;  state: Exp;  lines: +17 -1
Merge from 'MPT_EMCDONALD_AI_3' to 'MPT_EMCDONALD_AI_4'.
----------------------------
revision 1.13
date: 2005/04/01 02:20:46;  author: eric_mcdonald;  state: Exp;  lines: +24 -2
Merge from 'MPT_EMCDONALD_AI_2' to 'MPT_EMCDONALD_AI_3'.
----------------------------
revision 1.12
date: 2005/03/28 03:56:51;  author: eric_mcdonald;  state: Exp;  lines: +102 -98
Merge from 'MPT_EMCDONALD_AI_1' to 'MPT_EMCDONALD_AI_2'.
----------------------------
revision 1.11
date: 2005/02/26 19:08:28;  author: eric_mcdonald;  state: Exp;  lines: +4 -0
branches:  1.11.2;
Fix bug which caused cxp and morale to be recycled from dead units.
----------------------------
revision 1.10
date: 2005/02/23 05:06:05;  author: eric_mcdonald;  state: Exp;  lines: +1 -1
Merge in changes from root of 'BRANCH_MSKALA_SUPPLY' to 'MPT_MSKALA_SUPPLY_1'.
----------------------------
revision 1.9
date: 2005/02/07 02:31:55;  author: eric_mcdonald;  state: Exp;  lines: +71 -0
Finish scorekeeper improvements (for now).
New util function for flagging an array of utypes based on a GDL object.
----------------------------
revision 1.8
date: 2005/01/30 05:21:50;  author: eric_mcdonald;  state: Exp;  lines: +6 -0
Fix bug in ACP-indep construction.
Fix obscure bug with AI-controlled sides not finishing their turns.
Add a short circuit to one of the ACP-indep construction util functions.
----------------------------
revision 1.7
date: 2005/01/23 06:44:34;  author: eric_mcdonald;  state: Exp;  lines: +8 -32
branches:  1.7.2;
Generate sidemask for 'known-to' property of scorekeepers.
Improve sideclass membership tester to handle side ID's and mixed lists.
Use the new sideclass membership tester for testing utype availability.
----------------------------
revision 1.6
date: 2005/01/15 23:02:44;  author: eric_mcdonald;  state: Exp;  lines: +9 -5
New family of games, Valhalla, from Elijah Meeks.
Fix bug with unit views in designer mode.
Fix bug with overwatch in designer mode.
Continue fixing uview lookups to match new uview code.
----------------------------
revision 1.5
date: 2005/01/05 03:57:07;  author: eric_mcdonald;  state: Exp;  lines: +22 -13
Fix unit reach bug.
----------------------------
revision 1.4
date: 2005/01/02 04:45:29;  author: eric_mcdonald;  state: Exp;  lines: +104 -49
Reactivated feature: unit and uview stack ordering.
Bug fix: cycles in uview lists.
Also some cleanup from earlier uview/vision hacking.
----------------------------
revision 1.3
date: 2004/12/05 23:20:20;  author: eric_mcdonald;  state: Exp;  lines: +6 -3
branches:  1.3.2;
Fix game restoration bug reported by Elijah Meeks.
----------------------------
revision 1.2
date: 2004/12/04 22:24:00;  author: eric_mcdonald;  state: Exp;  lines: +116 -12
Fix building of KWIC pogram with C++ compiler.
Refine and expand "parambox" system for search functions that take predicates.
Two new versions of 'search_around' that use paramboxen.
Begin a namespace for Xconq vars outside of function scope.
Revise 'see_cell' code. (NOTE: This is not perfected yet.)
Fix to 3rd Age game. (Thanks to Kevin O'Gorman for reporting the bug.)
----------------------------
revision 1.1
date: 2004/11/21 03:01:25;  author: eric_mcdonald;  state: Exp;
branches:  1.1.1;
Initial revision
----------------------------
revision 1.1.1.1
date: 2004/11/21 03:01:25;  author: eric_mcdonald;  state: Exp;  lines: +0 -0
Initial import from private repo into SF repo.
----------------------------
revision 1.3.2.2
date: 2005/06/06 03:39:36;  author: eric_mcdonald;  state: Exp;  lines: +258 -201
Merged in all trunk changes between BPT_MSKALA_IMF_2 and BPT_MSKALA_IMF_3.
----------------------------
revision 1.3.2.1
date: 2005/01/28 03:36:15;  author: eric_mcdonald;  state: Exp;  lines: +143 -99
Merge in trunk changes between BPT_MSKALA_IMF_1 and BPT_MSKALA_IMF_2.
----------------------------
revision 1.7.2.5
date: 2005/06/06 03:18:21;  author: eric_mcdonald;  state: Exp;  lines: +76 -104
Merge in CVS trunk between 'BPT_MSKALA_SUPPLY_11' and 'BPT_MSKALA_SUPPLY_12'.
----------------------------
revision 1.7.2.4
date: 2005/03/28 04:17:56;  author: eric_mcdonald;  state: Exp;  lines: +102 -98
Merge in CVS trunk between 'BPT_MSKALA_SUPPLY_10' and 'BPT_MSKALA_SUPPLY_11'.
----------------------------
revision 1.7.2.3
date: 2005/03/09 21:25:01;  author: matthewskala;  state: Exp;  lines: +4 -0
Merge in changes from CVS trunk.
----------------------------
revision 1.7.2.2
date: 2005/02/09 18:11:30;  author: matthewskala;  state: Exp;  lines: +77 -0
Merge in changes from trunk, fix bug by allowing unit material stores to go negative during economy phase.
----------------------------
revision 1.7.2.1
date: 2005/01/28 21:54:12;  author: matthewskala;  state: Exp;  lines: +1 -1
Switch from shorts to longs for unit material stores.
Streamline handling of different types of "material-handling thing",
and add support for treasuries.
----------------------------
revision 1.11.2.12
date: 2005/07/10 15:43:07;  author: eric_mcdonald;  state: Exp;  lines: +21 -26
Merge in CVS trunk between 'BPT_EMCDONALD_AI_14' and 'BPT_EMCDONALD_AI_15'.
----------------------------
revision 1.11.2.11
date: 2005/06/05 20:53:01;  author: eric_mcdonald;  state: Exp;  lines: +0 -1
Ensure that Tkconq and the generic UI code rebuild when AI files are changed.
Add support for autoconf assignment of "sizeof" macros.
Start to add support for making primitve integer types of known size.
Remove or disable more code associated with the colonization plan.
Improve colonization support in constructor oprole.
Prepare support for action masks.
Remove now-unused 'buildingdone' flag.
Delete remnants of special ACP-indep construction code.
----------------------------
revision 1.11.2.10
date: 2005/06/03 02:32:44;  author: eric_mcdonald;  state: Exp;  lines: +0 -76
Make creation and building ACP-less.
Rework build task.
Some more repair-related tests.
Improvement task management. Include support for enqueuing ops.
Fix crashing bug in SDL interface.
Fix apparent bug in net receive code.
Cleanup code.
----------------------------
revision 1.11.2.9
date: 2005/05/29 22:32:28;  author: eric_mcdonald;  state: Exp;  lines: +7 -15
Implement new construction features.
Fix bugs in operational roles.
Fix bug in hp-recovery mechanism.
Improve construction AI.
Fix bugs related to change-type action.
----------------------------
revision 1.11.2.8
date: 2005/04/30 23:12:00;  author: eric_mcdonald;  state: Exp;  lines: +0 -1
Merge in CVS trunk between 'BPT_EMCDONALD_AI_10' and 'BPT_EMCDONALD_AI_11'.
----------------------------
revision 1.11.2.7
date: 2005/04/24 19:03:47;  author: eric_mcdonald;  state: Exp;  lines: +10 -12
Fix occs-in-dead-transport bug.
Fix combat reporting.
----------------------------
revision 1.11.2.6
date: 2005/04/22 16:36:17;  author: eric_mcdonald;  state: Exp;  lines: +2 -1
Some experimental AI improvements.
Some proven-to-be-good AI improvements.
----------------------------
revision 1.11.2.5
date: 2005/04/13 01:55:21;  author: eric_mcdonald;  state: Exp;  lines: +21 -0
More treasury-checking functions.
Many AI tweaks, plus foundation for further enhancements.
Fix bug in my earlier bugfix in the economy code.
----------------------------
revision 1.11.2.4
date: 2005/04/04 02:45:14;  author: eric_mcdonald;  state: Exp;  lines: +17 -1
Fix crashing bug in unit creation code.
Various and sundry AI improvements.
----------------------------
revision 1.11.2.3
date: 2005/03/31 02:55:43;  author: eric_mcdonald;  state: Exp;  lines: +5 -0
New functions for handling materials checking and consumption for any actions.
Add support for tech restriction associated with change-type action.
Add support for materials consumption restriction for change-type action.
----------------------------
revision 1.11.2.2
date: 2005/03/29 04:15:49;  author: eric_mcdonald;  state: Exp;  lines: +19 -2
Various and sundry improvements to the AI.
Specific focus on enabling AI use of manual change-type.
Also, allow ACP-less manual change-type.
Update games lib to account for the allowance of ACP-less manual change-type.
----------------------------
revision 1.11.2.1
date: 2005/03/26 20:26:29;  author: eric_mcdonald;  state: Exp;  lines: +102 -98
Various and sundry improvements to the AI.
=============================================================================
